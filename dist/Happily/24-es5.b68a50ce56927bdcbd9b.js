function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{VpLR:function(e,t,r){"use strict";r.r(t);var s=r("tyNb"),n=r("ofXK"),a=r("d2mR"),i=r("mrSG"),o=r("PSD3"),c=r.n(o),l=r("i680"),b=r("wOnQ"),u=r.n(b),g=r("fXoL"),d=r("H+bZ"),p=r("QpCR"),m=r("U9d4"),f=r("aKWF"),h=["contentToConvert"];function v(e,t){1&e&&(g.Xb(0,"div",19),g.Sb(1,"img",20),g.Wb())}var y=function(e){return{color:e}};function w(e,t){if(1&e&&(g.Xb(0,"td",21),g.Pc(1),g.Wb()),2&e){var r=g.jc();g.sc("ngStyle",g.vc(2,y,r.FirstAnswerValue<0?"red":"green")),g.Db(1),g.Rc(" ",r.FirstAnswerValue,"")}}function I(e,t){if(1&e&&(g.Xb(0,"td",21),g.Pc(1),g.Wb()),2&e){var r=g.jc();g.sc("ngStyle",g.vc(2,y,r.FirstAnswerValue<0?"red":"green")),g.Db(1),g.Rc(" ",r.FirstAnswerValue,"")}}function A(e,t){if(1&e&&(g.Xb(0,"td",21),g.Pc(1),g.Wb()),2&e){var r=g.jc();g.sc("ngStyle",g.vc(2,y,r.averageOfAllMembersFirstAnswersValue<0?"red":"green")),g.Db(1),g.Rc(" ",r.averageOfAllMembersFirstAnswersValue,"")}}function x(e,t){if(1&e&&(g.Xb(0,"td",21),g.Pc(1),g.Wb()),2&e){var r=g.jc();g.sc("ngStyle",g.vc(2,y,r.averageOfAllMembersFirstAnswersValue<0?"red":"green")),g.Db(1),g.Rc(" ",r.averageOfAllMembersFirstAnswersValue,"")}}function W(e,t){if(1&e&&(g.Xb(0,"td",21),g.Pc(1),g.Wb()),2&e){var r=g.jc();g.sc("ngStyle",g.vc(2,y,r.yourIndexValue<0?"red":"green")),g.Db(1),g.Rc(" ",r.yourIndexValue,"")}}function X(e,t){if(1&e&&(g.Xb(0,"td",21),g.Pc(1),g.Wb()),2&e){var r=g.jc();g.sc("ngStyle",g.vc(2,y,r.yourIndexValue<0?"red":"green")),g.Db(1),g.Rc(" ",r.yourIndexValue,"")}}function M(e,t){if(1&e&&(g.Xb(0,"td",21),g.Pc(1),g.Wb()),2&e){var r=g.jc();g.sc("ngStyle",g.vc(2,y,r.AllmembersAverageIndexValue<0?"red":"green")),g.Db(1),g.Rc(" ",r.AllmembersAverageIndexValue,"")}}function P(e,t){if(1&e&&(g.Xb(0,"td",21),g.Pc(1),g.Wb()),2&e){var r=g.jc();g.sc("ngStyle",g.vc(2,y,r.AllmembersAverageIndexValue<0?"red":"green")),g.Db(1),g.Rc(" ",r.AllmembersAverageIndexValue,"")}}var V,S=function(){return["/emotional-health-measure"]},D=((V=function(){function e(t,r){_classCallCheck(this,e),this.router=t,this.apiService=r,this.happyIndexData=[],this.imageLoader=!1}return _createClass(e,[{key:"ngOnInit",value:function(){try{localStorage.getItem("happily_user")&&(this.userID=JSON.parse(localStorage.getItem("happily_user")).userId)}catch(e){console.log(e)}this.getGraphData(),this.getHappiesIndexData()}},{key:"getGraphData",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,r,s,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="",!this.userID){e.next=15;break}return e.prev=2,this.imageLoader=!0,e.next=6,this.apiService.get("happiness-index/"+this.userID);case 6:r=e.sent,this.imageLoader=!1,t=r.statusMessage,r.statusMessage&&"Success"===r.statusMessage?(s=r.results,this.FirstAnswerValue=Math.round(s.firstAnswer),this.averageOfAllMembersFirstAnswersValue=Math.round(s.averageOfAllMembersFirstAnswers),this.yourIndexValue=Math.round(s.myHappinessIndex),this.AllmembersAverageIndexValue=Math.round(s.averageOfAllMembersHappinessIndex)):r.statusMessage&&"Success"!==r.statusMessage&&(c.a.fire({position:"center",icon:"error",title:t,showConfirmButton:!1,timer:2e3}),this.router.navigateByUrl("/privacy-protected-test")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:e.next=27;break;case 15:if(this.userID||this.NewPinID){e.next=27;break}return e.prev=16,this.imageLoader=!0,e.next=20,this.apiService.get("happiness-index");case 20:n=e.sent,this.imageLoader=!1,t=n.statusMessage,n.statusMessage&&"Success"===n.statusMessage?(a=n.results,this.FirstAnswerValue=Math.round(a.firstAnswer),this.averageOfAllMembersFirstAnswersValue=Math.round(a.averageOfAllMembersFirstAnswers),this.yourIndexValue=Math.round(a.myHappinessIndex),this.AllmembersAverageIndexValue=Math.round(a.averageOfAllMembersHappinessIndex)):n.statusMessage&&"Success"!==n.statusMessage&&(c.a.fire({position:"center",icon:"error",title:t,showConfirmButton:!1,timer:2e3}),this.router.navigateByUrl("/privacy-protected-test")),e.next=27;break;case 24:e.prev=24,e.t1=e.catch(16),console.log(e.t1);case 27:case"end":return e.stop()}}),e,this,[[2,10],[16,24]])})))}},{key:"getHappiesIndexData",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,r,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="",!this.NewPinID){e.next=13;break}return e.prev=2,this.imageLoader=!0,e.next=6,this.apiService.get("get-happiness-index/"+this.NewPinID);case 6:r=e.sent,this.imageLoader=!1,t=r.statusMessage,r.statusMessage&&"Success"===r.statusMessage?(s=r.results,this.FirstAnswerValue=Math.round(s.firstAnswer),this.averageOfAllMembersFirstAnswersValue=Math.round(s.averageOfAllMembersFirstAnswers),this.yourIndexValue=Math.round(s.myHappinessIndex),this.AllmembersAverageIndexValue=Math.round(s.averageOfAllMembersHappinessIndex),localStorage.setItem("temp_pinCode",JSON.stringify(s))):r.statusMessage&&"Success"!==r.statusMessage&&(c.a.fire({position:"center",icon:"error",title:t,showConfirmButton:!1,timer:2e3}),this.router.navigateByUrl("/privacy-protected-test")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,this,[[2,10]])})))}},{key:"generatePDF",value:function(){console.log(this.el.nativeElement),u()(this.el.nativeElement).then((function(e){var t=e.toDataURL("image/jpeg"),r=new l.a({orientation:"portrait"}),s=r.getImageProperties(t),n=r.internal.pageSize.getWidth();console.log(n);var a=s.height*n/s.width;console.log(a),r.addImage(t,"PNG",1,2,n,a),r.save("your_self_test_result_graph.pdf")}))}}]),e}()).\u0275fac=function(e){return new(e||V)(g.Rb(s.b),g.Rb(d.a))},V.\u0275cmp=g.Lb({type:V,selectors:[["app-result"]],viewQuery:function(e,t){var r;1&e&&g.Lc(h,!0),2&e&&g.Cc(r=g.gc())&&(t.el=r.first)},decls:71,vars:11,consts:[["class","image-loader",4,"ngIf"],[1,"btn-right"],[1,"btn_yellow",3,"click"],[1,"resultPg"],["id","contentToConvert",1,"resultSec","know_section","result-data"],["contentToConvert",""],[1,"container"],[1,"secHead"],[1,"know_text"],[1,"title-box"],[1,"page-title"],["src","./assets/images/border_center.png","alt","img"],[1,"row"],[1,"col-md-6","col-sm-6","col-xs-12"],[1,"resultCntnt"],[2,"margin-bottom","50px"],[1,"numbering"],["class","plusmin",3,"ngStyle",4,"ngIf"],[1,"btn_yellow",3,"routerLink"],[1,"image-loader"],["src","./assets/images/1477.gif"],[1,"plusmin",3,"ngStyle"]],template:function(e,t){1&e&&(g.Nc(0,v,2,0,"div",0),g.Sb(1,"app-header"),g.Xb(2,"div",1),g.Xb(3,"button",2),g.fc("click",(function(){return t.generatePDF()})),g.Pc(4,"Download pdf/print"),g.Wb(),g.Wb(),g.Xb(5,"div",3),g.Xb(6,"div",4,5),g.Xb(8,"div",6),g.Xb(9,"div",7),g.Xb(10,"div",8),g.Xb(11,"div",9),g.Xb(12,"h1",10),g.Pc(13,"Results of your self-test"),g.Wb(),g.Sb(14,"img",11),g.Wb(),g.Wb(),g.Wb(),g.Xb(15,"div",12),g.Xb(16,"div",13),g.Xb(17,"p"),g.Xb(18,"b"),g.Pc(19,"The first measure is your Happiness Number."),g.Wb(),g.Wb(),g.Xb(20,"div",14),g.Xb(21,"h3"),g.Pc(22,"Happiness Number"),g.Wb(),g.Xb(23,"p",15),g.Pc(24,"In the first question, you had answered how happy you feel. Your own feeling of happiness compared to all members, is important to be aware of. It helps you set your own improvement goal. "),g.Sb(25,"br"),g.Wb(),g.Xb(26,"div",16),g.Xb(27,"div",12),g.Xb(28,"div",13),g.Xb(29,"table"),g.Xb(30,"tr"),g.Nc(31,w,2,4,"td",17),g.Nc(32,I,2,4,"td",17),g.Wb(),g.Wb(),g.Xb(33,"p"),g.Pc(34,"Happiness Number reported by you"),g.Wb(),g.Wb(),g.Xb(35,"div",13),g.Xb(36,"table"),g.Xb(37,"tr"),g.Nc(38,A,2,4,"td",17),g.Nc(39,x,2,4,"td",17),g.Wb(),g.Wb(),g.Xb(40,"p"),g.Pc(41,"Average Happiness Number reported by all members"),g.Wb(),g.Wb(),g.Wb(),g.Wb(),g.Wb(),g.Wb(),g.Xb(42,"div",13),g.Xb(43,"p"),g.Xb(44,"b"),g.Pc(45,"The second measure is your Emotional Index. "),g.Wb(),g.Wb(),g.Xb(46,"div",14),g.Xb(47,"h3"),g.Pc(48,"Emotional Index"),g.Wb(),g.Xb(49,"p"),g.Pc(50,"In the test, you had also reflected on your feelings in detail. They were more towards weakening - damaging feelings, or towards strengthening \u2013 healing feelings. The Emotional Index is an average of your feelings. It measures your overall emotional state"),g.Wb(),g.Xb(51,"div",16),g.Xb(52,"div",12),g.Xb(53,"div",13),g.Xb(54,"table"),g.Xb(55,"tr"),g.Nc(56,W,2,4,"td",17),g.Nc(57,X,2,4,"td",17),g.Wb(),g.Wb(),g.Xb(58,"p"),g.Pc(59,"Your Emotional Index"),g.Wb(),g.Wb(),g.Xb(60,"div",13),g.Xb(61,"table"),g.Xb(62,"tr"),g.Nc(63,M,2,4,"td",17),g.Nc(64,P,2,4,"td",17),g.Wb(),g.Wb(),g.Xb(65,"p"),g.Pc(66,"All member's Emotional Index"),g.Wb(),g.Wb(),g.Wb(),g.Wb(),g.Wb(),g.Wb(),g.Wb(),g.Xb(67,"a",18),g.Pc(68,"How is my emotional health?"),g.Wb(),g.Wb(),g.Wb(),g.Wb(),g.Sb(69,"app-repeated-text"),g.Sb(70,"app-footer")),2&e&&(g.sc("ngIf",t.imageLoader),g.Db(31),g.sc("ngIf",t.FirstAnswerValue<0),g.Db(1),g.sc("ngIf",t.FirstAnswerValue>=0),g.Db(6),g.sc("ngIf",t.averageOfAllMembersFirstAnswersValue<0),g.Db(1),g.sc("ngIf",t.averageOfAllMembersFirstAnswersValue>=0),g.Db(17),g.sc("ngIf",t.yourIndexValue<0),g.Db(1),g.sc("ngIf",t.yourIndexValue>=0),g.Db(6),g.sc("ngIf",t.AllmembersAverageIndexValue<0),g.Db(1),g.sc("ngIf",t.AllmembersAverageIndexValue>=0),g.Db(3),g.sc("routerLink",g.uc(10,S)))},directives:[n.m,p.a,s.e,m.a,f.a,n.n],styles:['.btn-right[_ngcontent-%COMP%]{text-align:end}.btn-right[_ngcontent-%COMP%]   .btn_yellow[_ngcontent-%COMP%]{margin:0 22px!important;display:inline-block;border:0}#contentToConvert[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:0;right:0;background-image:url(sun_img1.a21e4f4b7c35c917a025.png);background-position:100% 100%;background-repeat:no-repeat;background-size:9%;height:100%;width:100%}']}),V),k=r("LPYB"),O=r("IkSl");r.d(t,"ResultModule",(function(){return F}));var _,C=[{path:"",component:D}],F=((_=function e(){_classCallCheck(this,e)}).\u0275mod=g.Pb({type:_}),_.\u0275inj=g.Ob({factory:function(e){return new(e||_)},imports:[[s.f.forChild(C),n.b,a.a,k.b,O.a],s.f]}),_)}}]);