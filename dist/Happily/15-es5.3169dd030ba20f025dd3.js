function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{plZU:function(e,t,r){"use strict";r.r(t);var o=r("tyNb"),i=r("ofXK"),s=r("d2mR"),n=r("mrSG"),a=r("j8vv"),c=r("6Pyk"),l=r("PSD3"),u=r.n(l),p=r("3Pt+"),b=r("EVdn"),g=r("fXoL"),d=r("H+bZ"),m=r("QpCR"),h=r("Egam"),f=r("aKWF");function v(e,t){1&e&&(g.Xb(0,"div",29),g.Sb(1,"img",30),g.Wb())}function y(e,t){if(1&e&&(g.Xb(0,"option",31),g.Pc(1),g.Wb()),2&e){var r=t.$implicit;g.sc("value",r),g.Db(1),g.Rc(" ",r," ")}}function w(e,t){1&e&&(g.Xb(0,"div",32),g.Pc(1," Please select country "),g.Wb())}function P(e,t){if(1&e&&(g.Xb(0,"option",31),g.Pc(1),g.Wb()),2&e){var r=t.$implicit;g.sc("value",r.name),g.Db(1),g.Rc(" ",r.name," ")}}function C(e,t){1&e&&(g.Xb(0,"div",32),g.Pc(1," Please select language "),g.Wb())}function x(e,t){if(1&e&&(g.Xb(0,"option",31),g.Pc(1),g.Wb()),2&e){var r=t.$implicit;g.sc("value",r),g.Db(1),g.Rc(" ",r," ")}}function D(e,t){1&e&&(g.Xb(0,"div",32),g.Pc(1," Please select religion "),g.Wb())}function k(e,t){1&e&&(g.Xb(0,"div",32),g.Pc(1," Please enter description "),g.Wb())}function S(e,t){1&e&&(g.Xb(0,"div",32),g.Pc(1," Please enter review "),g.Wb())}function W(e,t){if(1&e&&(g.Xb(0,"option",31),g.Pc(1),g.Wb()),2&e){var r=t.$implicit;g.sc("value",r.id),g.Db(1),g.Rc(" ",r.problem," ")}}var X,I=function(){return{standalone:!0}},T=((X=function(){function e(t,r,o){_classCallCheck(this,e),this.router=t,this.apiService=r,this.formBuilder=o,this.userInfoData={},this.languageList=a,this.countryData=[],this.problemsdropdownSettings={},this.imageLoader=!1,this.userLogin=!1,this.submitted=!1,this.religionList=["None","Atheism/Agnosticism","Bah\xe1\u2019\xed","Buddhism","Christianity","Confucianism","Druze","Gnosticism","Hinduism","Islam","Jainism","Judaism","Rastafarianism","Shinto","Sikhism","Zoroastrianism","Traditional African Religions","African Diaspora Religions","Indigenous American Religions"],this.countryData=c.a}return _createClass(e,[{key:"ngOnInit",value:function(){try{localStorage.getItem("happily_user")&&(this.userName=JSON.parse(localStorage.getItem("happily_user")).username,this.userID=JSON.parse(localStorage.getItem("happily_user")).userId,this.userLogin=!0)}catch(e){console.log(e)}this.problems=[],this.deleteProblems=[],this.privacyTestForm=this.formBuilder.group({problems:[""],generalFeeling:[""],mindPower:[""],age:["",p.v.required],country:["",p.v.required],religion:["",p.v.required],language:["",p.v.required],description:["",p.v.required],review:["",p.v.required]}),this.problemsdropdownSettings={singleSelection:!1,idField:"id",textField:"problem",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:4,enableCheckAll:!1,allowSearchFilter:!0},this.problemListData(),this.userInfoDetails()}},{key:"problemListData",value:function(){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.imageLoader=!0,e.next=4,this.apiService.get("problems");case 4:t=e.sent,this.imageLoader=!1,t.statusMessage&&"Success"===t.statusMessage&&(this.problemList=t.results,console.log("list",this.problemList)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.error);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})))}},{key:"onProblemsItemSelect",value:function(e){var t=this.deleteProblems.findIndex((function(t){return t.id===e.id}));-1!==t&&this.deleteProblems.splice(t,1),this.problems.push(e)}},{key:"onProblemsDeSelect",value:function(e){this.problems.splice(this.problems.findIndex((function(t){return t.id===e.id})),1);var t=this.serverProblems.find((function(t){return t.id===e.id}));t&&this.deleteProblems.push(t)}},{key:"privacyTestControl",get:function(){return this.privacyTestForm.controls}},{key:"trigger",value:function(e,t){var r=b("#"+t).val(),o=r.length;switch(t){case"description":if(this.remain=(1e3-o).toString(),+this.remain<=0&&0!==e.which&&0!==e.charCode)return b("#"+t).val(r.substring(0,o-1)),!1;break;case"review":if(this.remainReview=(1e3-o).toString(),+this.remainReview<=0&&0!==e.which&&0!==e.charCode)return b("#"+t).val(r.substring(0,o-1)),!1}}},{key:"userInfoDetails",value:function(){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.imageLoader=!0,e.next=4,this.apiService.get("get-details-by-username/"+this.userName);case 4:if(t=e.sent,this.imageLoader=!1,t.statusMessage&&"Success"===t.statusMessage){if(r=t.results,t.statusCode&&"HP200"===t.statusCode?(this.userInfoData=r,this.privacyTestForm.controls.age.setValue(this.userInfoData.age),this.privacyTestForm.controls.country.setValue(this.userInfoData.country),this.privacyTestForm.controls.language.setValue(this.userInfoData.language),this.privacyTestForm.controls.religion.setValue(this.userInfoData.religion),this.privacyTestForm.controls.description.setValue(this.userInfoData.description),this.privacyTestForm.controls.review.setValue(this.userInfoData.review),this.privacyTestForm.controls.generalFeeling.setValue(this.userInfoData.generalFeeling),this.privacyTestForm.controls.mindPower.setValue(this.userInfoData.mindPower),this.problems=this.userInfoData.problems):(this.userInfoData=r.results,this.privacyTestForm.controls.age.setValue(this.userInfoData.age),this.privacyTestForm.controls.country.setValue(this.userInfoData.country),this.privacyTestForm.controls.language.setValue(this.userInfoData.language),this.privacyTestForm.controls.religion.setValue(this.userInfoData.religion),this.privacyTestForm.controls.description.setValue(this.userInfoData.description),this.privacyTestForm.controls.review.setValue(this.userInfoData.review),this.privacyTestForm.controls.generalFeeling.setValue(this.userInfoData.generalFeeling),this.privacyTestForm.controls.mindPower.setValue(this.userInfoData.mindPower),this.problems=this.userInfoData.problems),this.serverProblems=[],this.userInfoData.problems)for(o=0;o<this.userInfoData.problems.length;o++)this.userInfoData.problems[o]=Object.assign(this.userInfoData.problems[o],this.userInfoData.problems[o].problem),this.serverProblems=this.userInfoData.problems}else u.a.fire(t.statusCode&&"HP999"===t.statusCode?{position:"center",icon:"error",title:"Refreshing page is taking too long. Please click on OK, move out of this page, and return to try again. Or try closing browser and re-opening the website. Sorry for the inconvenience.",showConfirmButton:!0}:{position:"center",icon:"error",title:"Something went wrong server not working!",showConfirmButton:!0});e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.error);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})))}},{key:"onSubmit",value:function(){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,r,o,i,s,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.submitted=!0,this.privacyTestForm.controls.problems.setValue(this.problems),!this.privacyTestForm.valid){e.next=43;break}if(""!=this.privacyTestForm.value.problems||""!=this.privacyTestForm.value.generalFeeling||""!=this.privacyTestForm.value.mindPower){e.next=5;break}u.a.fire({position:"center",icon:"error",title:"Please select atleast one checkbox!",showConfirmButton:!0}),e.next=41;break;case 5:if(""==this.privacyTestForm.value.problems&&""==this.privacyTestForm.value.generalFeeling&&""==this.privacyTestForm.value.mindPower){e.next=41;break}if(""==this.privacyTestForm.value.problems&&(this.privacyTestForm.value.problems=[]),t="",!0!==this.userLogin){e.next=27;break}return console.log("withLogin"),e.prev=10,this.imageLoader=!0,r={id:this.userID},r=Object.assign(r,this.privacyTestForm.value),e.next=16,this.apiService.post("user/details",r);case 16:o=e.sent,this.imageLoader=!1,t=o.statusMessage,i=o.results,o.statusMessage&&"Success"===o.statusMessage?(u.a.fire({position:"center",icon:"success",title:"User data submitted successfully!",showConfirmButton:!1,timer:2e3}),localStorage.setItem("tempUserDetails",JSON.stringify(i)),this.router.navigateByUrl("/how-happy-you-details")):o.statusMessage&&"Success"!==o.statusMessage&&(u.a.fire({position:"center",icon:"info",title:t,showConfirmButton:!1,timer:2e3}),this.router.navigateByUrl("/how-happy-you-details"),t=o.Error),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(10),t=e.t0.error,console.log(t);case 25:e.next=41;break;case 27:return console.log("withoutLogin"),e.prev=28,this.imageLoader=!0,e.next=32,this.apiService.post("user/details",this.privacyTestForm.value);case 32:s=e.sent,this.imageLoader=!1,t=s.statusMessage,n=s.results,s.statusMessage&&"Success"===s.statusMessage?(u.a.fire({position:"center",icon:"success",title:"User data submitted successfully!",showConfirmButton:!1,timer:2e3}),localStorage.setItem("tempUserDetails",JSON.stringify(n)),this.router.navigateByUrl("/how-happy-you-details")):s.statusMessage&&"Success"!==s.statusMessage&&(t=s.Error,u.a.fire(s.statusCode&&"HP999"===s.statusCode?{position:"center",icon:"error",title:"Refreshing page is taking too long. Please click on OK, move out of this page, and return to try again. Or try closing browser and re-opening the website. Sorry for the inconvenience.",showConfirmButton:!0}:{position:"center",icon:"info",title:t,showConfirmButton:!1,timer:2e3}),this.router.navigateByUrl("/how-happy-you-details")),e.next=41;break;case 38:e.prev=38,e.t1=e.catch(28),t=e.t1.error,console.log(t);case 41:e.next=44;break;case 43:u.a.fire({position:"center",icon:"error",title:"Please enter all information.",showConfirmButton:!0});case 44:case"end":return e.stop()}}),e,this,[[10,22],[28,38]])})))}}]),e}()).\u0275fac=function(e){return new(e||X)(g.Rb(o.b),g.Rb(d.a),g.Rb(p.d))},X.\u0275cmp=g.Lb({type:X,selectors:[["app-info-detail"]],decls:80,vars:19,consts:[["class","image-loader",4,"ngIf"],[1,"know_section","contact_text","userinfo_page"],[1,"container"],[1,"know_text"],[1,"title-box"],[1,"page-title"],["src","./assets/images/border_center.png","alt","img"],[1,"row","user-info-box"],[1,"col-md-10","col-sm-10","col-xs-12","center"],[1,"contacy_form"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6","col-sm-6","col-xs-12"],["type","text","required","","placeholder","Age in Years","formControlName","age","minlength","1","maxlength","3","onkeypress","return event.charCode >= 48 && event.charCode <= 57 ||event.charCode == '.' || event.charCode == 250 "],["required","","formControlName","country",1,"form-control"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],["id","languages","required","","formControlName","language",1,"form-control"],["required","","formControlName","religion",1,"form-control"],[1,"col-md-12","col-sm-12","col-xs-12"],[2,"text-align","right","font-size","15px","margin","0","color","#ffffff"],["required","","maxlength","1000","id","description","formControlName","description","rows","5","placeholder","Summarize what you want to improve or problems to solve, in less than 250 words.","data-validation-required-message","Please enter a message.",3,"keyup"],["required","","maxlength","1000","id","review","formControlName","review","rows","5","placeholder","Which solutions have you tried already?  How effective were the solutions? Give details of specific services, products, sources and your rating: Very Satisfied \u2013 OK \u2013 Very Unsatisfied.","data-validation-required-message","Please enter a message.",3,"keyup"],["type","checkbox","formControlName","generalFeeling"],["type","checkbox","formControlName","mindPower"],["ngDefaultControl","",3,"placeholder","data","ngModel","ngModelOptions","settings","ngModelChange","onSelect","onDeSelect"],[1,"col-md-12","col-sm-12","col-xs-12","text-center"],["id","submitBtn",1,"webBtn"],[1,"image-loader"],["src","./assets/images/1477.gif"],[3,"value"],[1,"text-danger"]],template:function(e,t){1&e&&(g.Nc(0,v,2,0,"div",0),g.Sb(1,"app-header"),g.Xb(2,"div",1),g.Xb(3,"div",2),g.Xb(4,"div",3),g.Xb(5,"div",4),g.Xb(6,"h1",5),g.Pc(7,"Enter your basic information. Talk about what difficulties you are facing, what have you done to overcome them, and what help you need to strengthen your mind. "),g.Wb(),g.Sb(8,"img",6),g.Wb(),g.Xb(9,"p"),g.Pc(10,"Your data is confidential and privacy protected. No one will know your identity, not even HAPPILY!"),g.Wb(),g.Wb(),g.Xb(11,"div",7),g.Xb(12,"div",8),g.Xb(13,"div",9),g.Xb(14,"form",10),g.fc("ngSubmit",(function(){return t.onSubmit()})),g.Xb(15,"div",11),g.Xb(16,"div",12),g.Xb(17,"label"),g.Pc(18,"Age in Years"),g.Wb(),g.Sb(19,"input",13),g.Wb(),g.Xb(20,"div",12),g.Xb(21,"label"),g.Pc(22,"Country"),g.Wb(),g.Xb(23,"select",14),g.Xb(24,"option",15),g.Pc(25,"Select Country"),g.Wb(),g.Nc(26,y,2,2,"option",16),g.Wb(),g.Nc(27,w,2,0,"div",17),g.Wb(),g.Wb(),g.Xb(28,"div",11),g.Xb(29,"div",12),g.Xb(30,"label"),g.Pc(31,"Language"),g.Wb(),g.Xb(32,"select",18),g.Xb(33,"option",15),g.Pc(34," Select Language"),g.Wb(),g.Nc(35,P,2,2,"option",16),g.Wb(),g.Nc(36,C,2,0,"div",17),g.Wb(),g.Xb(37,"div",12),g.Xb(38,"label"),g.Pc(39,"Religion"),g.Wb(),g.Xb(40,"select",19),g.Xb(41,"option",15),g.Pc(42,"Select Religion"),g.Wb(),g.Nc(43,x,2,2,"option",16),g.Wb(),g.Nc(44,D,2,0,"div",17),g.Xb(45,"p"),g.Xb(46,"i"),g.Pc(47,"\u201cRequired if you want to see faith specific solutions.\u201d "),g.Wb(),g.Wb(),g.Wb(),g.Wb(),g.Xb(48,"div",11),g.Xb(49,"div",20),g.Xb(50,"p",21),g.Pc(51),g.Wb(),g.Xb(52,"textarea",22),g.fc("keyup",(function(e){return t.trigger(e,"description")})),g.Wb(),g.Nc(53,k,2,0,"div",17),g.Wb(),g.Wb(),g.Xb(54,"div",11),g.Xb(55,"div",20),g.Xb(56,"p",21),g.Pc(57),g.Wb(),g.Xb(58,"textarea",23),g.fc("keyup",(function(e){return t.trigger(e,"review")})),g.Wb(),g.Nc(59,S,2,0,"div",17),g.Wb(),g.Wb(),g.Xb(60,"div",11),g.Xb(61,"div",20),g.Xb(62,"label"),g.Sb(63,"input",24),g.Pc(64," Improve general feeling of well-being "),g.Wb(),g.Wb(),g.Wb(),g.Xb(65,"div",11),g.Xb(66,"div",20),g.Xb(67,"label"),g.Sb(68,"input",25),g.Pc(69," Make my mind powerful for career and life. Popular among high school and college students! "),g.Wb(),g.Wb(),g.Wb(),g.Sb(70,"br"),g.Xb(71,"div",11),g.Xb(72,"div",20),g.Xb(73,"ng-multiselect-dropdown",26),g.fc("ngModelChange",(function(e){return t.userInfoData.problems=e}))("onSelect",(function(e){return t.onProblemsItemSelect(e)}))("onDeSelect",(function(e){return t.onProblemsDeSelect(e)})),g.Nc(74,W,2,2,"option",16),g.Wb(),g.Wb(),g.Wb(),g.Xb(75,"div",11),g.Xb(76,"div",27),g.Xb(77,"button",28),g.Pc(78,"Next"),g.Wb(),g.Wb(),g.Wb(),g.Wb(),g.Wb(),g.Wb(),g.Wb(),g.Wb(),g.Wb(),g.Sb(79,"app-footer")),2&e&&(g.sc("ngIf",t.imageLoader),g.Db(14),g.sc("formGroup",t.privacyTestForm),g.Db(12),g.sc("ngForOf",t.countryData),g.Db(1),g.sc("ngIf",(t.privacyTestControl.country.touched||t.submitted)&&(null==t.privacyTestControl.country.errors?null:t.privacyTestControl.country.errors.required)),g.Db(8),g.sc("ngForOf",t.languageList),g.Db(1),g.sc("ngIf",(t.privacyTestControl.language.touched||t.submitted)&&(null==t.privacyTestControl.language.errors?null:t.privacyTestControl.language.errors.required)),g.Db(7),g.sc("ngForOf",t.religionList),g.Db(1),g.sc("ngIf",(t.privacyTestControl.religion.touched||t.submitted)&&(null==t.privacyTestControl.religion.errors?null:t.privacyTestControl.religion.errors.required)),g.Db(7),g.Qc(t.remain),g.Db(2),g.sc("ngIf",(t.privacyTestControl.description.touched||t.submitted)&&(null==t.privacyTestControl.description.errors?null:t.privacyTestControl.description.errors.required)),g.Db(4),g.Qc(t.remainReview),g.Db(2),g.sc("ngIf",(t.privacyTestControl.review.touched||t.submitted)&&(null==t.privacyTestControl.review.errors?null:t.privacyTestControl.review.errors.required)),g.Db(14),g.sc("placeholder","Solve specific problems (drop down list to select from)")("data",t.problemList)("ngModel",t.userInfoData.problems)("ngModelOptions",g.uc(18,I))("settings",t.problemsdropdownSettings),g.Db(1),g.sc("ngForOf",t.problemList))},directives:[i.m,m.a,p.x,p.n,p.f,p.c,p.t,p.m,p.e,p.i,p.h,p.u,p.q,p.w,i.l,p.a,h.a,p.p,f.a],styles:['.page-section#privacy[_ngcontent-%COMP%]{padding:7rem 0 3rem!important}.dropdown-btn[_ngcontent-%COMP%]{border-radius:50px!important}.form-check-label[_ngcontent-%COMP%]{font-size:1rem!important}.swal-title[_ngcontent-%COMP%]{font-size:25px;box-shadow:0 1px 1px rgba(0,0,0,.21);margin:0 0 28px}.asterisk[_ngcontent-%COMP%]{font-size:24px;position:absolute;padding:4px 6px}.form-group-check[_ngcontent-%COMP%]{display:block;margin-bottom:15px;padding-left:.25rem!important}.form-group-check[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0;height:auto;width:auto;margin-bottom:0;display:none;cursor:pointer}.form-group-check[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .form-group-check[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before{position:relative;cursor:pointer}.form-group-check[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before{content:"";-webkit-appearance:none;background-color:transparent;border:2px solid #0079bf;box-shadow:0 1px 2px rgba(0,0,0,.05),inset 0 -15px 10px -12px rgba(0,0,0,.05);padding:10px;display:inline-block;vertical-align:middle;margin-right:5px}.form-group-check[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;top:6px!important;left:11px!important;width:6px;height:14px;border:solid #0079bf;border-width:0 2px 2px 0;transform:rotate(45deg)}.user-info-box[_ngcontent-%COMP%]{margin-bottom:80px}']}),X);r.d(t,"InfoDetailModule",(function(){return M}));var F,O=[{path:"",component:T}],M=((F=function e(){_classCallCheck(this,e)}).\u0275mod=g.Pb({type:F}),F.\u0275inj=g.Ob({factory:function(e){return new(e||F)},imports:[[o.f.forChild(O),h.b.forRoot(),i.b,s.a,p.s,p.g],o.f]}),F)}}]);