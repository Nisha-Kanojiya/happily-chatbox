(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{plZU:function(e,t,o){"use strict";o.r(t);var i=o("tyNb"),r=o("ofXK"),s=o("d2mR"),n=o("mrSG"),a=o("j8vv"),l=o("6Pyk"),c=o("PSD3"),u=o.n(c),p=o("3Pt+"),b=o("EVdn"),d=o("fXoL"),g=o("H+bZ"),m=o("QpCR"),h=o("Egam"),f=o("aKWF");function v(e,t){1&e&&(d.Xb(0,"div",29),d.Sb(1,"img",30),d.Wb())}function y(e,t){if(1&e&&(d.Xb(0,"option",31),d.Pc(1),d.Wb()),2&e){const e=t.$implicit;d.sc("value",e),d.Db(1),d.Rc(" ",e," ")}}function w(e,t){1&e&&(d.Xb(0,"div",32),d.Pc(1," Please select country "),d.Wb())}function P(e,t){if(1&e&&(d.Xb(0,"option",31),d.Pc(1),d.Wb()),2&e){const e=t.$implicit;d.sc("value",e.name),d.Db(1),d.Rc(" ",e.name," ")}}function C(e,t){1&e&&(d.Xb(0,"div",32),d.Pc(1," Please select language "),d.Wb())}function D(e,t){if(1&e&&(d.Xb(0,"option",31),d.Pc(1),d.Wb()),2&e){const e=t.$implicit;d.sc("value",e),d.Db(1),d.Rc(" ",e," ")}}function S(e,t){1&e&&(d.Xb(0,"div",32),d.Pc(1," Please select religion "),d.Wb())}function W(e,t){1&e&&(d.Xb(0,"div",32),d.Pc(1," Please enter description "),d.Wb())}function X(e,t){1&e&&(d.Xb(0,"div",32),d.Pc(1," Please enter review "),d.Wb())}function I(e,t){if(1&e&&(d.Xb(0,"option",31),d.Pc(1),d.Wb()),2&e){const e=t.$implicit;d.sc("value",e.id),d.Db(1),d.Rc(" ",e.problem," ")}}const x=function(){return{standalone:!0}};let T=(()=>{class e{constructor(e,t,o){this.router=e,this.apiService=t,this.formBuilder=o,this.userInfoData={},this.languageList=a,this.countryData=[],this.problemsdropdownSettings={},this.imageLoader=!1,this.userLogin=!1,this.submitted=!1,this.religionList=["None","Atheism/Agnosticism","Bah\xe1\u2019\xed","Buddhism","Christianity","Confucianism","Druze","Gnosticism","Hinduism","Islam","Jainism","Judaism","Rastafarianism","Shinto","Sikhism","Zoroastrianism","Traditional African Religions","African Diaspora Religions","Indigenous American Religions"],this.countryData=l.a}ngOnInit(){try{localStorage.getItem("happily_user")&&(this.userName=JSON.parse(localStorage.getItem("happily_user")).username,this.userID=JSON.parse(localStorage.getItem("happily_user")).userId,this.userLogin=!0)}catch(e){console.log(e)}this.problems=[],this.deleteProblems=[],this.privacyTestForm=this.formBuilder.group({problems:[""],generalFeeling:[""],mindPower:[""],age:["",p.v.required],country:["",p.v.required],religion:["",p.v.required],language:["",p.v.required],description:["",p.v.required],review:["",p.v.required]}),this.problemsdropdownSettings={singleSelection:!1,idField:"id",textField:"problem",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:4,enableCheckAll:!1,allowSearchFilter:!0},this.problemListData(),this.userInfoDetails()}problemListData(){return Object(n.a)(this,void 0,void 0,(function*(){try{this.imageLoader=!0;const e=yield this.apiService.get("problems");this.imageLoader=!1,e.statusMessage&&"Success"===e.statusMessage&&(this.problemList=e.results,console.log("list",this.problemList))}catch(e){console.log(e.error)}}))}onProblemsItemSelect(e){let t=this.deleteProblems.findIndex(t=>t.id===e.id);-1!==t&&this.deleteProblems.splice(t,1),this.problems.push(e)}onProblemsDeSelect(e){this.problems.splice(this.problems.findIndex(t=>t.id===e.id),1);let t=this.serverProblems.find(t=>t.id===e.id);t&&this.deleteProblems.push(t)}get privacyTestControl(){return this.privacyTestForm.controls}trigger(e,t){const o=b("#"+t).val(),i=o.length;switch(t){case"description":if(this.remain=(1e3-i).toString(),+this.remain<=0&&0!==e.which&&0!==e.charCode)return b("#"+t).val(o.substring(0,i-1)),!1;break;case"review":if(this.remainReview=(1e3-i).toString(),+this.remainReview<=0&&0!==e.which&&0!==e.charCode)return b("#"+t).val(o.substring(0,i-1)),!1}}userInfoDetails(){return Object(n.a)(this,void 0,void 0,(function*(){try{this.imageLoader=!0;let e=yield this.apiService.get("get-details-by-username/"+this.userName);if(this.imageLoader=!1,e.statusMessage&&"Success"===e.statusMessage){const t=e.results;if(e.statusCode&&"HP200"===e.statusCode?(this.userInfoData=t,this.privacyTestForm.controls.age.setValue(this.userInfoData.age),this.privacyTestForm.controls.country.setValue(this.userInfoData.country),this.privacyTestForm.controls.language.setValue(this.userInfoData.language),this.privacyTestForm.controls.religion.setValue(this.userInfoData.religion),this.privacyTestForm.controls.description.setValue(this.userInfoData.description),this.privacyTestForm.controls.review.setValue(this.userInfoData.review),this.privacyTestForm.controls.generalFeeling.setValue(this.userInfoData.generalFeeling),this.privacyTestForm.controls.mindPower.setValue(this.userInfoData.mindPower),this.problems=this.userInfoData.problems):(this.userInfoData=t.results,this.privacyTestForm.controls.age.setValue(this.userInfoData.age),this.privacyTestForm.controls.country.setValue(this.userInfoData.country),this.privacyTestForm.controls.language.setValue(this.userInfoData.language),this.privacyTestForm.controls.religion.setValue(this.userInfoData.religion),this.privacyTestForm.controls.description.setValue(this.userInfoData.description),this.privacyTestForm.controls.review.setValue(this.userInfoData.review),this.privacyTestForm.controls.generalFeeling.setValue(this.userInfoData.generalFeeling),this.privacyTestForm.controls.mindPower.setValue(this.userInfoData.mindPower),this.problems=this.userInfoData.problems),this.serverProblems=[],this.userInfoData.problems)for(let e=0;e<this.userInfoData.problems.length;e++)this.userInfoData.problems[e]=Object.assign(this.userInfoData.problems[e],this.userInfoData.problems[e].problem),this.serverProblems=this.userInfoData.problems}else u.a.fire(e.statusCode&&"HP999"===e.statusCode?{position:"center",icon:"error",title:"Refreshing page is taking too long. Please click on OK, move out of this page, and return to try again. Or try closing browser and re-opening the website. Sorry for the inconvenience.",showConfirmButton:!0}:{position:"center",icon:"error",title:"Something went wrong server not working!",showConfirmButton:!0})}catch(e){console.log(e.error)}}))}onSubmit(){return Object(n.a)(this,void 0,void 0,(function*(){if(this.submitted=!0,this.privacyTestForm.controls.problems.setValue(this.problems),this.privacyTestForm.valid){if(""==this.privacyTestForm.value.problems&&""==this.privacyTestForm.value.generalFeeling&&""==this.privacyTestForm.value.mindPower)u.a.fire({position:"center",icon:"error",title:"Please select atleast one checkbox!",showConfirmButton:!0});else if(""!=this.privacyTestForm.value.problems||""!=this.privacyTestForm.value.generalFeeling||""!=this.privacyTestForm.value.mindPower){""==this.privacyTestForm.value.problems&&(this.privacyTestForm.value.problems=[]);let t="";if(!0===this.userLogin){console.log("withLogin");try{this.imageLoader=!0;let e={id:this.userID};e=Object.assign(e,this.privacyTestForm.value);let o=yield this.apiService.post("user/details",e);this.imageLoader=!1,t=o.statusMessage;const i=o.results;o.statusMessage&&"Success"===o.statusMessage?(u.a.fire({position:"center",icon:"success",title:"User data submitted successfully!",showConfirmButton:!1,timer:2e3}),localStorage.setItem("tempUserDetails",JSON.stringify(i)),this.router.navigateByUrl("/how-happy-you-details")):o.statusMessage&&"Success"!==o.statusMessage&&(u.a.fire({position:"center",icon:"info",title:t,showConfirmButton:!1,timer:2e3}),this.router.navigateByUrl("/how-happy-you-details"),t=o.Error)}catch(e){t=e.error,console.log(t)}}else{console.log("withoutLogin");try{this.imageLoader=!0;let e=yield this.apiService.post("user/details",this.privacyTestForm.value);this.imageLoader=!1,t=e.statusMessage;const o=e.results;e.statusMessage&&"Success"===e.statusMessage?(u.a.fire({position:"center",icon:"success",title:"User data submitted successfully!",showConfirmButton:!1,timer:2e3}),localStorage.setItem("tempUserDetails",JSON.stringify(o)),this.router.navigateByUrl("/how-happy-you-details")):e.statusMessage&&"Success"!==e.statusMessage&&(t=e.Error,u.a.fire(e.statusCode&&"HP999"===e.statusCode?{position:"center",icon:"error",title:"Refreshing page is taking too long. Please click on OK, move out of this page, and return to try again. Or try closing browser and re-opening the website. Sorry for the inconvenience.",showConfirmButton:!0}:{position:"center",icon:"info",title:t,showConfirmButton:!1,timer:2e3}),this.router.navigateByUrl("/how-happy-you-details"))}catch(e){t=e.error,console.log(t)}}}}else u.a.fire({position:"center",icon:"error",title:"Please enter all information.",showConfirmButton:!0})}))}}return e.\u0275fac=function(t){return new(t||e)(d.Rb(i.b),d.Rb(g.a),d.Rb(p.d))},e.\u0275cmp=d.Lb({type:e,selectors:[["app-info-detail"]],decls:80,vars:19,consts:[["class","image-loader",4,"ngIf"],[1,"know_section","contact_text","userinfo_page"],[1,"container"],[1,"know_text"],[1,"title-box"],[1,"page-title"],["src","./assets/images/border_center.png","alt","img"],[1,"row","user-info-box"],[1,"col-md-10","col-sm-10","col-xs-12","center"],[1,"contacy_form"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6","col-sm-6","col-xs-12"],["type","text","required","","placeholder","Age in Years","formControlName","age","minlength","1","maxlength","3","onkeypress","return event.charCode >= 48 && event.charCode <= 57 ||event.charCode == '.' || event.charCode == 250 "],["required","","formControlName","country",1,"form-control"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],["id","languages","required","","formControlName","language",1,"form-control"],["required","","formControlName","religion",1,"form-control"],[1,"col-md-12","col-sm-12","col-xs-12"],[2,"text-align","right","font-size","15px","margin","0","color","#ffffff"],["required","","maxlength","1000","id","description","formControlName","description","rows","5","placeholder","Summarize what you want to improve or problems to solve, in less than 250 words.","data-validation-required-message","Please enter a message.",3,"keyup"],["required","","maxlength","1000","id","review","formControlName","review","rows","5","placeholder","Which solutions have you tried already?  How effective were the solutions? Give details of specific services, products, sources and your rating: Very Satisfied \u2013 OK \u2013 Very Unsatisfied.","data-validation-required-message","Please enter a message.",3,"keyup"],["type","checkbox","formControlName","generalFeeling"],["type","checkbox","formControlName","mindPower"],["ngDefaultControl","",3,"placeholder","data","ngModel","ngModelOptions","settings","ngModelChange","onSelect","onDeSelect"],[1,"col-md-12","col-sm-12","col-xs-12","text-center"],["id","submitBtn",1,"webBtn"],[1,"image-loader"],["src","./assets/images/1477.gif"],[3,"value"],[1,"text-danger"]],template:function(e,t){1&e&&(d.Nc(0,v,2,0,"div",0),d.Sb(1,"app-header"),d.Xb(2,"div",1),d.Xb(3,"div",2),d.Xb(4,"div",3),d.Xb(5,"div",4),d.Xb(6,"h1",5),d.Pc(7,"Enter your basic information. Talk about what difficulties you are facing, what have you done to overcome them, and what help you need to strengthen your mind. "),d.Wb(),d.Sb(8,"img",6),d.Wb(),d.Xb(9,"p"),d.Pc(10,"Your data is confidential and privacy protected. No one will know your identity, not even HAPPILY!"),d.Wb(),d.Wb(),d.Xb(11,"div",7),d.Xb(12,"div",8),d.Xb(13,"div",9),d.Xb(14,"form",10),d.fc("ngSubmit",(function(){return t.onSubmit()})),d.Xb(15,"div",11),d.Xb(16,"div",12),d.Xb(17,"label"),d.Pc(18,"Age in Years"),d.Wb(),d.Sb(19,"input",13),d.Wb(),d.Xb(20,"div",12),d.Xb(21,"label"),d.Pc(22,"Country"),d.Wb(),d.Xb(23,"select",14),d.Xb(24,"option",15),d.Pc(25,"Select Country"),d.Wb(),d.Nc(26,y,2,2,"option",16),d.Wb(),d.Nc(27,w,2,0,"div",17),d.Wb(),d.Wb(),d.Xb(28,"div",11),d.Xb(29,"div",12),d.Xb(30,"label"),d.Pc(31,"Language"),d.Wb(),d.Xb(32,"select",18),d.Xb(33,"option",15),d.Pc(34," Select Language"),d.Wb(),d.Nc(35,P,2,2,"option",16),d.Wb(),d.Nc(36,C,2,0,"div",17),d.Wb(),d.Xb(37,"div",12),d.Xb(38,"label"),d.Pc(39,"Religion"),d.Wb(),d.Xb(40,"select",19),d.Xb(41,"option",15),d.Pc(42,"Select Religion"),d.Wb(),d.Nc(43,D,2,2,"option",16),d.Wb(),d.Nc(44,S,2,0,"div",17),d.Xb(45,"p"),d.Xb(46,"i"),d.Pc(47,"\u201cRequired if you want to see faith specific solutions.\u201d "),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Xb(48,"div",11),d.Xb(49,"div",20),d.Xb(50,"p",21),d.Pc(51),d.Wb(),d.Xb(52,"textarea",22),d.fc("keyup",(function(e){return t.trigger(e,"description")})),d.Wb(),d.Nc(53,W,2,0,"div",17),d.Wb(),d.Wb(),d.Xb(54,"div",11),d.Xb(55,"div",20),d.Xb(56,"p",21),d.Pc(57),d.Wb(),d.Xb(58,"textarea",23),d.fc("keyup",(function(e){return t.trigger(e,"review")})),d.Wb(),d.Nc(59,X,2,0,"div",17),d.Wb(),d.Wb(),d.Xb(60,"div",11),d.Xb(61,"div",20),d.Xb(62,"label"),d.Sb(63,"input",24),d.Pc(64," Improve general feeling of well-being "),d.Wb(),d.Wb(),d.Wb(),d.Xb(65,"div",11),d.Xb(66,"div",20),d.Xb(67,"label"),d.Sb(68,"input",25),d.Pc(69," Make my mind powerful for career and life. Popular among high school and college students! "),d.Wb(),d.Wb(),d.Wb(),d.Sb(70,"br"),d.Xb(71,"div",11),d.Xb(72,"div",20),d.Xb(73,"ng-multiselect-dropdown",26),d.fc("ngModelChange",(function(e){return t.userInfoData.problems=e}))("onSelect",(function(e){return t.onProblemsItemSelect(e)}))("onDeSelect",(function(e){return t.onProblemsDeSelect(e)})),d.Nc(74,I,2,2,"option",16),d.Wb(),d.Wb(),d.Wb(),d.Xb(75,"div",11),d.Xb(76,"div",27),d.Xb(77,"button",28),d.Pc(78,"Next"),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Wb(),d.Sb(79,"app-footer")),2&e&&(d.sc("ngIf",t.imageLoader),d.Db(14),d.sc("formGroup",t.privacyTestForm),d.Db(12),d.sc("ngForOf",t.countryData),d.Db(1),d.sc("ngIf",(t.privacyTestControl.country.touched||t.submitted)&&(null==t.privacyTestControl.country.errors?null:t.privacyTestControl.country.errors.required)),d.Db(8),d.sc("ngForOf",t.languageList),d.Db(1),d.sc("ngIf",(t.privacyTestControl.language.touched||t.submitted)&&(null==t.privacyTestControl.language.errors?null:t.privacyTestControl.language.errors.required)),d.Db(7),d.sc("ngForOf",t.religionList),d.Db(1),d.sc("ngIf",(t.privacyTestControl.religion.touched||t.submitted)&&(null==t.privacyTestControl.religion.errors?null:t.privacyTestControl.religion.errors.required)),d.Db(7),d.Qc(t.remain),d.Db(2),d.sc("ngIf",(t.privacyTestControl.description.touched||t.submitted)&&(null==t.privacyTestControl.description.errors?null:t.privacyTestControl.description.errors.required)),d.Db(4),d.Qc(t.remainReview),d.Db(2),d.sc("ngIf",(t.privacyTestControl.review.touched||t.submitted)&&(null==t.privacyTestControl.review.errors?null:t.privacyTestControl.review.errors.required)),d.Db(14),d.sc("placeholder","Solve specific problems (drop down list to select from)")("data",t.problemList)("ngModel",t.userInfoData.problems)("ngModelOptions",d.uc(18,x))("settings",t.problemsdropdownSettings),d.Db(1),d.sc("ngForOf",t.problemList))},directives:[r.m,m.a,p.x,p.n,p.f,p.c,p.t,p.m,p.e,p.i,p.h,p.u,p.q,p.w,r.l,p.a,h.a,p.p,f.a],styles:['.page-section#privacy[_ngcontent-%COMP%]{padding:7rem 0 3rem!important}.dropdown-btn[_ngcontent-%COMP%]{border-radius:50px!important}.form-check-label[_ngcontent-%COMP%]{font-size:1rem!important}.swal-title[_ngcontent-%COMP%]{font-size:25px;box-shadow:0 1px 1px rgba(0,0,0,.21);margin:0 0 28px}.asterisk[_ngcontent-%COMP%]{font-size:24px;position:absolute;padding:4px 6px}.form-group-check[_ngcontent-%COMP%]{display:block;margin-bottom:15px;padding-left:.25rem!important}.form-group-check[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0;height:auto;width:auto;margin-bottom:0;display:none;cursor:pointer}.form-group-check[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .form-group-check[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before{position:relative;cursor:pointer}.form-group-check[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before{content:"";-webkit-appearance:none;background-color:transparent;border:2px solid #0079bf;box-shadow:0 1px 2px rgba(0,0,0,.05),inset 0 -15px 10px -12px rgba(0,0,0,.05);padding:10px;display:inline-block;vertical-align:middle;margin-right:5px}.form-group-check[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;top:6px!important;left:11px!important;width:6px;height:14px;border:solid #0079bf;border-width:0 2px 2px 0;transform:rotate(45deg)}.user-info-box[_ngcontent-%COMP%]{margin-bottom:80px}']}),e})();o.d(t,"InfoDetailModule",(function(){return O}));const F=[{path:"",component:T}];let O=(()=>{class e{}return e.\u0275mod=d.Pb({type:e}),e.\u0275inj=d.Ob({factory:function(t){return new(t||e)},imports:[[i.f.forChild(F),h.b.forRoot(),r.b,s.a,p.s,p.g],i.f]}),e})()}}]);